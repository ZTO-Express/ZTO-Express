<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><title>小程序之跨平台黑魔法 | 科技中通</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="[object Object]"><meta name="designer" content="minfive"><meta name="keywords" content="中通,技术,java,中间件,消息队列,程序员,开发工程师,blog,MQ,ES,ElasticSearch,网关,微服务,技术中台,中台"><meta name="description" content="中通科技是中通快递旗下的互联网物流科技平台，拥有一支千余人规模的研发团队，秉承“互联网+物流”的理念，致力于为客户和消费者提供卓越的物流科技产品与服务，助力产业数字化、智慧化不断发展。"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all"><link rel="canonical" href="http://tech.izto.com/2019/08/15/xcx/index.html"><link rel="icon" type="image/png" href="https://izto.com/favicon.ico" sizes="32x32"><link rel="stylesheet" href="/scss/base/index.css"><link rel="alternate" href="/atom.xml" title="科技中通" type="application/atom+xml"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?9b7127cab937a0bb222bc7e3e2435c75";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="stylesheet" href="/scss/views/page/post.css"><meta name="generator" content="Hexo 5.0.2"></head><body ontouchstart><div id="page-loading" class="page page-loading" style="background-image:url(https://blog.static.minfive.com/other/loader.gif)"></div><div id="page" class="page js-hidden"><header class="page__small-header page__header--small"><nav class="page__navbar"><div class="page__container navbar-container"><a class="page__logo" href="/" title="科技中通" alt="科技中通"><img src="https://fscdn.zto.com/fs8/M03/5B/3D/wKhBEF83WreAWVZSAAAKUQSlLFk739.png" alt="科技中通"></a><nav class="page__nav"><ul class="nav__list clearfix"><li class="nav__item"><a href="/" alt="首页" title="首页">首页</a></li><li class="nav__item"><a href="/archives" alt="归档" title="归档">归档</a></li><li class="nav__item"><a href="/about" alt="关于" title="关于">关于</a></li></ul></nav><button class="page__menu-btn" type="button"><i class="iconfont icon-menu"></i></button></div></nav></header><main class="page__container page__main"><div class="page__content"><article class="page__post"><div class="post__cover"><img src="/2019/08/15/xcx/0640.jpeg" alt="小程序之跨平台黑魔法"></div><header class="post__info"><h1 class="post__title">小程序之跨平台黑魔法</h1><div class="post__mark"><div class="mark__block"><i class="mark__icon iconfont icon-write"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/about/">中通技术团队</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-time"></i><ul class="mark__list clearfix"><li class="mark__item"><span>2019-08-15</span></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-tab"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">小程序</a></li><li class="mark__item"><a href="/tags/%E8%B7%A8%E5%B9%B3%E5%8F%B0/">跨平台</a></li><li class="mark__item"><a href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></li></ul></div></div></header><div class="post__content"><p><strong>1.背景</strong></p><p>2016年微信决定上线小程序业务至今，小程序的生态已经非常庞大，覆盖的行业类目，由最初的游戏延伸至快递、电商、餐饮、教育、文旅、政务等多个领域。</p><p>小程序的生态玩家也在不断增加：微信小程序、支付宝小程序、百度小程序、抖音小程序、qq小程序、头条小程序。</p><p>企业在享受各大平台小程序的开放能力、平台流量、商业能力的同时，面临着小程序业务能力对齐，跨平台开发成本高等问题。</p><p><strong>2.产研团队面临的问题</strong></p><p><strong>快递行业面向客户的服务版块</strong></p><p><img src="0640.jpeg"><br>各大厂商的都有自己的小程序技术标准。</p><p>问题来了，业务团队希望各大平台的小程序服务都能及时同步，我们产品经理的需求也希望能在各平台小程序同步上线，以期望能更好的去抓住平台的流量，消除用户在平台切换时对服务能力的参差不齐的差异感，当用户在平台上需要快递服务时，能更快的响应到用户的需求，总体提升我们的服务质量。这也是各大小程序平台玩家希望看到的——平台快速连接商家的能力。</p><p>在这个关键因素的驱动下，研发团队不得不拆分出独立的小团队去维护不同平台的小程序，开发成本较高。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 小程序平台 * n &#x3D; n 个团队</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 n 个团队 *  协作效率 &#x3D; 低效率</span><br></pre></td></tr></table></figure><p>小程序的生态日渐丰富，技术标准逐渐成熟， 作为小程序平台的头部玩家，微信小程序是各大公司首先要运营的渠道，大家都希望抓住微信这个巨大的流量入口中的红利，将自身企业的服务能力通过小程序透传给用户。微信小程序平台的成长也伴随着服务提供商产品的演变，在运营小程序的过程中，我们也会碰到许多的问题。</p><p><strong>小程序1.0 vs 小程序2.0</strong></p><p><img src="00640.jpeg"><br>在产品演变的过程中，我们将服务于商家及散客的能力逐步的完善到小程序的能力当中去。随着服务能力及应用场景的逐渐完善。</p><blockquote><p>产研团队面临着严重的效能问题：<br>一个需求</p></blockquote><ul><li><p>需要在不同的平台实现</p></li><li><p>需要踩不同平台的坑</p></li><li><p>需要管理不同平台的团队</p></li><li><p>需要写不同平台的小程序代码</p></li></ul><blockquote></blockquote><p><strong>研发团队如何解决这些问题？</strong><br><strong>3.</strong> <strong>解决之道-跨平台方案</strong></p><p><strong>我们要寻求一套跨平台解决方案，多个平台只需维护一套代码，做到小程序代码的一次编写，多端运行。能基于这套解决方案，抹平各平台的差异，并在性能及体验上有所提升。如果有一套这样的解决方案，好处不言自明。</strong></p><p><strong>我们前期的一些选型分析，需满足：</strong></p><ul><li><p>一套代码可以同时生成iOS，Android，H5，微信小程序，支付宝小程序，百度小程序等。</p></li><li><p>如果能基于vue.js最好， 上手快，学习成本低。</p></li></ul><p>经过一段时间的技术选型，我们采用具有跨平台编译功能的框架uni-app。uni-app是一个基于vue开发的前端应用框架，通过编写一套代码，可以在iOS，Android、H5、以及小程序等各端运行。采用uniapp进行开发，可能存在客户端与小程序api同步不及时的问题。为了衡量使用框架带来的风险，对uni-app的编译过程做了一个简单的分析。</p><p><strong>1）开发环境</strong></p><p>uni-app可以通过两种方式创建，HBuilderX和cli，但对于这两种方式创建的应用，编译、打包过程都是一致的，只不过HBuilderX创建的项目，会由HBuildeX内置(包括node等环境)的编译器进行编译，cli创建的项目，由安装在项目内部的编译器编译。整个编译器都由node实现，通过vue-cli的service插件对源码进行编译。</p><p><strong>2) JSAPI编译</strong></p><p>uniapp的JS语法基于VUE，大部分API参考微信小程序。在编写uniapp代码时，uni-app上的各种方法，最终会被编译为对应平台的API。uniapp将小程序的API分为3类：</p><p>a) 直接将小程序的API promisify之后挂载到uni-app上的API</p><p><img src="000640.jpeg"><br>这类API是将wx上的API引用复制到uni-app上，在编译时不需要做任何处理，其调用效果和wx API完全一样。b) 需要做特殊处理的API</p><p><img src="0000640.jpeg"><br>（支付宝小程序转换代码里面的截图）由于uni-app的API的功能实现参考了微信小程序，所以编译为微信小程序，uni-app除了一个向前兼容的API外，没有其它需要特殊处理的API，其它平台则需要对API做一些简单处理。c) 暂不支持的API</p><p><img src="00000640.jpeg"><br>这类API通过uni-app直接使用会导致调用失败。要实现平台的这些功能，可以通过wx来访问。</p><p>综上，当小程序的API发生变化时，在uni-app提供解决方案前，可以把变更或新增的API视为uni-app暂不支持的API。在编写代码时可以通过条件注释在微信小程序使用wx暴露的api，其它平台依旧使用uni-app提供的API。以拨打电话为例，可以通过以下代码来应对微信小程序API的修改。</p><p><img src="000000640.jpeg"></p><p><strong>3）HTML编译</strong></p><p>uniapp的模版语法同样也与vue保持一致，在编译过程中，模版会被转为抽象语法树，然后再对语法树进行修改，最终转换为微信小程序的语法，以v-for语法为例：</p><p><img src="0000000640.jpeg"><br>在编译之后，vue的v-for语法能全部转为wx:for。同样，HTML其它属性的编译也会通过对AST做必要的修改来完成。</p><p>HTML中的各种标签，在uniapp中都使用组件来替换。比如HTML中的div要替换成view，span替换成text、a替换成navigator。其中的view，text，navitator对应的都是不同的组件，在uniapp中 ，组件分为两种类型：内置组件和扩展组件 <strong>4）CSS编译</strong></p><p>微信的小程序的wxss使用了css的大部分特性，主要的变化有3个：</p><ul><li><p>新增了尺寸单位</p></li><li><p>样式分为全局样式和局部样式</p></li><li><p>支持部分选择器</p></li></ul><p>目前在各端的css语法都一致，按照w3c的规范书写css，后期应该不会遇到因为小程序修改css规则导致有需要修改的地方。万一有个别端实现不一致的情况，也可以通过条件编译来实现跨平台。</p><p>uni-app解决的3个问题</p><ul><li><p>多端泛滥</p></li><li><p>体验不好</p></li><li><p>生态不丰富</p></li></ul><p><img src="00000000640.jpeg"><br>图片来自：uni-app官网</p><p>引入uni-app后，团队的研发效率大大提升，原先的小程序源码经过重构转换成uni-app项目，一个业务需求，只需要编写一份代码，经过编译，就能在多端运行。</p><p><strong>这里讲一个引入uni-app后快速迭代的案例：</strong></p><p>由于C端产品线团队与某平台合作，根据双方约定，需提升该平台我司小程序的用户体验及服务能力。由于项目交付周期紧，为了达到积极响应业务需求的目的，团队需快速决策该小程序的升级优化方案——在原有的原生框架进行升级开发，还是基于uni-app框架进行开发？</p><p>在对uni-app进行大量的技术预研后，团队最终敲定了方案：基于uni-app进行开发。事实证明这次决策是对的，团队快速的按质量要求交付了小程序版本。</p><p><strong>4.</strong> <strong>积累经验</strong></p><p><strong>1）条件编译</strong><br>每个平台有自己的一些特征，因为需要针对不同平台做适配，如果编译到不同的工程之后，再做二次修改，会让后续的流程变得复杂低效。api的条件编译</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &#x2F;&#x2F; #ifdef  %PLATFORM%</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 平台特有的API实现</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 &#x2F;&#x2F; #endif</span><br></pre></td></tr></table></figure><p>static目录条件编译，在不同平台，引用的静态资源可能也存在差异，通过 static 的的条件编译可以解决此问题</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 ┌─static</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 │  ├─mp-weixin</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 │  │  └─a.png</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4 │  └─b.png</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5 ├─main.js</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6 ├─App.vue</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7 ├─manifest.json</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8 └─pages.json</span><br></pre></td></tr></table></figure><p><strong>2）渲染性能</strong> 原生小程序调用setdata更新页面流程：</p><p><img src="000000000640.jpeg"><br>小程序在运行时，分逻辑层和视图层，当数据有发生变化的时候，逻辑层需要携带数据通知到视图层，而数据传递不是直接由逻辑层到视图层的，中间要先经过native层做转换，在转换的过程当中，传递和阻塞的性能消耗是比较大的，所以我们应该尽量减少setdata的调用频次和每次调用setdata时传递的数据量。</p><p><strong>这里举例一个场景：</strong></p><p>小程序下拉展示一个列表数据，比如我的快递列表，列表总共有 200 条数据，页面只展示 20 条，每次下拉刷新，当页面展示到100条时页面要如何赋值呢？</p><p>微信小程序的常见写法</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1    data:&#123;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2        list:[&#39;1&#39; , &#39;2&#39; , &#39;3&#39; , &#39;4&#39;]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3    &#125;,</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5    &#x2F;&#x2F; Event handler.</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6    viewTap: function() &#123;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7          let newdata &#x3D; [&#39;5&#39; ,&#39;6&#39; ,&#39;7&#39; ,&#39;8&#39;]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8          this.data.list.push(... newdata)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">9    this.setData(&#123;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10          list: this.data.list</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">11       &#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">12    &#125;</span><br></pre></td></tr></table></figure><p>也就是说，每次下拉刷新，setdata的数据传输都会携带之前已经展示在页面上的数据，这个对小程序的性能消耗是很大。</p><p>针对这个问题，uni-app借助了webstore JSON Diff 库 ，实现高效、精确的差量数据计算更新。webstore JSON Diff库能针对复杂的js数据进行差量对比计算最小化。</p><p>JSON Diff</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 diff(&#123;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2     a: 1, b: 2, c: &quot;str&quot;, d: &#123; e: [2, &#123; a: 4 &#125;, 5] &#125;, f: true, h: [1], g: &#123; a: [1, 2], j: 111 &#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 &#125;, &#123;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4    a: [], b: &quot;aa&quot;, c: 3, d: &#123; e: [3, &#123; a: 3 &#125;] &#125;, f: false, h: [1, 2], g: &#123; a: [1, 1, 1], i: &quot;delete&quot; &#125;, k: &#39;del&#39;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5 &#125;)</span><br></pre></td></tr></table></figure><p>6</p><p>7 输出的结果是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8 &#123; &quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: &quot;str&quot;, &quot;d.e[0]&quot;: 2, &quot;d.e[1].a&quot;: 4, &quot;d.e[2]&quot;: 5, &quot;f&quot;: true, &quot;h&quot;: [1], &quot;g.a&quot;: [1, 2], &quot;g.j&quot;: 111, &quot;g.i&quot;: null, &quot;k&quot;: null &#125;</span><br></pre></td></tr></table></figure><p><strong>3) 代码简化</strong></p><p>利用vue的高度抽象，大幅缩减模型的处理代码。以运单详情页为例，快递小哥卡片的代码逻辑分布在400行代码内，在这400行代码内需要处理各种运单状态及查看人和运单的关系。</p><p>简化之后的版本，利用vue的computed，对所有的场景进行列举，仅使用70行代码实现该功能，其中每个ui的显示与否，都独立开，也更方便后期的维护</p><p><strong>4）界面突变的问题</strong> 在重构前，大部分气泡或者浮层都没有动画效果，当出现弹窗时，由于移动设备屏幕相对较小，界面很容易发生大面积的突变，导致用户难以理解应用的逻辑，进而觉得应用使用起来不是特别顺手，重构之后的版本，引入uni-app第三方动画组件，对所有的气泡和浮层添加动画，尽量避免界面上的突变。重构的同时，还使用了一些其它优秀的uniapp组件对界面进行优化。</p><p><strong>5.</strong> <strong>整合后台服务</strong></p><p><strong>另一方面是我们要将后台服务整合好——统一鉴权、统一协议、统一的api元数据管理、微服务化、服务网关。</strong></p><p>这里介绍一下服务端的架构演进：</p><p><strong>V1.0 （2016以前）</strong></p><p><img src="0000000000640.jpeg"><br>每个端都有独立的后端，公共服务没有抽离，一些相同的业务代码，需要在不同的服务端去重复实现。可以想象改动一个功能点，研发团队会有多么的痛苦。</p><p><strong>V2.0（2016~2017）</strong></p><p><img src="00000000000640.jpeg"><br>后端服务已经整合，单体式架构，业务代码耦合严重，没有形成业务中台，业务域服务域划分不清晰，服务之间没有做隔离，数据层单一，出问题时容易引发雪崩。在技术架构上不利于业务及团队自然增长。</p><p><strong>V3.0（2018~至今）</strong></p><p><img src="000000000000640.jpeg"><br>形成了统一的服务网关及业务中台，业务域与服务域做了良好划分，统一的权限、元数据、配置、微服务管理。（本文作者：阳慧松）</p><div class="post-announce">感谢您的阅读，本文由 <a href="http://tech.izto.com">科技中通</a> 版权所有。如若转载，请注明出处：科技中通（<a href="http://tech.izto.com/2019/08/15/xcx/">http://tech.izto.com/2019/08/15/xcx/</a>）</div><div class="post__prevs"><div class="post__prev"><a href="/2019/07/19/test2/" title="中通移动应用功耗测试最佳实践（二）"><i class="iconfont icon-prev"></i>中通移动应用功耗测试最佳实践（二）</a></div><div class="post__prev post__prev--right"><a href="/2019/10/15/elasticsearch/" title="中通Elasticsearch集群运维实践">中通Elasticsearch集群运维实践<i class="iconfont icon-next"></i></a></div></div></div></article><div id="comment-container"></div></div><aside class="page__sidebar"><form id="page-search-from" class="page__search-from" action="/search/"><label class="search-form__item"><input class="input" type="text" name="search" placeholder="Search..."> <i class="iconfont icon-search"></i></label></form><div class="sidebar__block"><h3 class="block__title">简介</h3><p class="block__text">中通科技是中通快递旗下的互联网物流科技平台，拥有一支千余人规模的研发团队，秉承“互联网+物流”的理念，致力于为客户和消费者提供卓越的物流科技产品与服务，助力产业数字化、智慧化不断发展。</p></div><div class="sidebar__block"><h3 class="block__title">文章分类</h3></div><div class="sidebar__block"><h3 class="block__title">最新文章</h3><ul class="block-list latest-post-list"><li class="latest-post-item"><a href="/2020/08/15/es/" title="中通Elasticsearch集群运维实践（二）--监控告警"><div class="item__cover"><img src="/2020/08/15/es/time-line.png" alt="中通Elasticsearch集群运维实践（二）--监控告警"></div><div class="item__info"><h3 class="item__title">中通Elasticsearch集群运维实践（二）--监控告警</h3><span class="item__text">2020-08-15</span></div></a></li><li class="latest-post-item"><a href="/2020/08/15/kafka/" title="Kafka 节点重启失败导致数据丢失的分析排查与解决之道"><div class="item__cover"><img src="/2020/08/15/kafka/640.jpeg" alt="Kafka 节点重启失败导致数据丢失的分析排查与解决之道"></div><div class="item__info"><h3 class="item__title">Kafka 节点重启失败导致数据丢失的分析排查与解决之道</h3><span class="item__text">2020-08-15</span></div></a></li><li class="latest-post-item"><a href="/2020/08/15/zms/" title="中通消息服务运维平台实践（已开源）"><div class="item__cover"><img src="/2020/08/15/zms/1.png" alt="中通消息服务运维平台实践（已开源）"></div><div class="item__info"><h3 class="item__title">中通消息服务运维平台实践（已开源）</h3><span class="item__text">2020-08-15</span></div></a></li><li class="latest-post-item"><a href="/2019/10/15/elasticsearch/" title="中通Elasticsearch集群运维实践"><div class="item__cover"><img src="/2019/10/15/elasticsearch/0640.jpeg" alt="中通Elasticsearch集群运维实践"></div><div class="item__info"><h3 class="item__title">中通Elasticsearch集群运维实践</h3><span class="item__text">2019-10-15</span></div></a></li></ul></div><div class="sidebar__block"><h3 class="block__title">文章标签</h3><ul class="block-list tag-list clearfix"><li class="tag-item"><a class="tag-link" href="/tags/API/">API</a></li><li class="tag-item"><a class="tag-link" href="/tags/App/">App</a></li><li class="tag-item"><a class="tag-link" href="/tags/ES/">ES</a></li><li class="tag-item"><a class="tag-link" href="/tags/Gateway/">Gateway</a></li><li class="tag-item"><a class="tag-link" href="/tags/HBase/">HBase</a></li><li class="tag-item"><a class="tag-link" href="/tags/Kafka/">Kafka</a></li><li class="tag-item"><a class="tag-link" href="/tags/MQ/">MQ</a></li><li class="tag-item"><a class="tag-link" href="/tags/RocketMQ/">RocketMQ</a></li><li class="tag-item"><a class="tag-link" href="/tags/Spark/">Spark</a></li><li class="tag-item"><a class="tag-link" href="/tags/Test/">Test</a></li><li class="tag-item"><a class="tag-link" href="/tags/es/">es</a></li><li class="tag-item"><a class="tag-link" href="/tags/http/">http</a></li><li class="tag-item"><a class="tag-link" href="/tags/kabana/">kabana</a></li><li class="tag-item"><a class="tag-link" href="/tags/okhttp/">okhttp</a></li><li class="tag-item"><a class="tag-link" href="/tags/onedata/">onedata</a></li><li class="tag-item"><a class="tag-link" href="/tags/scoket/">scoket</a></li><li class="tag-item"><a class="tag-link" href="/tags/tcp/">tcp</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E4%B8%AD%E9%80%9A/">中通</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E5%8A%9F%E8%80%97/">功耗</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E5%8D%8F%E8%AE%AE/">协议</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E5%AE%9E%E8%B7%B5/">实践</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">小程序</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E5%B9%B3%E5%8F%B0/">平台</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E6%90%9C%E7%B4%A2/">搜索</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%8F%B0/">数据中台</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E6%97%A5%E5%BF%97/">日志</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E6%B6%88%E6%81%AF/">消息</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E7%99%BE%E4%BA%BF/">百亿</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E7%9B%91%E6%8E%A7/">监控</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E7%A7%BB%E5%8A%A8/">移动</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E7%BD%91%E5%85%B3/">网关</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E8%B7%A8%E5%B9%B3%E5%8F%B0/">跨平台</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E8%BF%90%E7%BB%B4/">运维</a></li><li class="tag-item"><a class="tag-link" href="/tags/%E9%9B%86%E7%BE%A4/">集群</a></li></ul></div></aside></main><footer class="page__footer"><section class="footer__top"><div class="page__container footer__container"><div class="footer-top__item footer-top__item--2"><h3 class="item__title">关于</h3><div class="item__content"><p class="item__text">本站是基于 Hexo 搭建的静态资源博客，采用skapp主题，主要用于技术分享，欢迎点击右下角订阅 rss。</p><ul class="footer__contact-info"><li class="contact-info__item"><i class="iconfont icon-address"></i> <span>上海青浦</span></li><li class="contact-info__item"><i class="iconfont icon-email2"></i> <span>xiaowenke@zto.com</span></li></ul></div></div><div class="footer-top__item footer__image"><img src="https://izto.com/static/img/wx.9dba3bb.png" alt="logo" title="科技中通"></div><div class="footer-top__item"><h3 class="item__title">友情链接</h3><div class="item__content"><ul class="footer-top__list"><li class="list-item"><a href="https://www.zto.com/" title="中通快递" target="_blank">中通快递</a></li><li class="list-item"><a href="https://izto.com/" title="科技中通" target="_blank">科技中通</a></li><li class="list-item"><a href="https://github.com/Mrminfive/hexo-theme-skapp" title="skapp主题" target="_blank">skapp主题</a></li></ul></div></div><div class="footer-top__item"><h3 class="item__title">构建工具</h3><div class="item__content"><ul class="footer-top__list"><li class="list-item"><a href="https://hexo.io/" title="Blog Framework" target="_blank">Hexo博客</a></li></ul></div></div></div></section><section class="footer__bottom"><div class="page__container footer__container"><p class="footer__copyright">© <a href="https://github.com/Mrminfive/hexo-theme-skapp" target="_blank">Skapp</a> 2017 powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, made by <a href="https://github.com/Mrminfive" target="_blank">minfive</a>.</p><ul class="footer__social-network clearfix"><li class="social-network__item"><a href="https://github.com/ZTO-Express" target="_blank" title="github"><i class="iconfont icon-github"></i></a></li><li class="social-network__item"><a href="mailto:xiaowenke@zto.com" target="_blank" title="email"><i class="iconfont icon-email"></i></a></li><li class="social-network__item"><a href="/atom.xml" target="_blank" title="rss"><i class="iconfont icon-rss"></i></a></li></ul></div></section></footer><div id="back-top" class="back-top back-top--hidden js-hidden"><i class="iconfont icon-top"></i></div></div><script src="/js/common.js"></script><script src="/js/page/post.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/js/md5.min.js"></script><script>var tags=["小程序","跨平台","前端"],gitalk=new Gitalk({clientID:"4cb968a54b00e64ac3cb",clientSecret:"394030211a8ab592146f31cbf54bb9090c0f82d9",repo:"zto-express.github.io",owner:"ZTO-Express",admin:["ZTOGroup"],labels:tags,id:new Date(1565836374e3).getTime()>new Date("2018-02-15").getTime()?md5(location.href):location.href});gitalk.render("comment-container")</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>